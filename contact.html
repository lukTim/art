<h1 class="text-3xl font-bold mb-6 text-center">Contact</h1>

<!-- Message box placeholder -->
<div id="form-message" class="max-w-xl mx-auto px-4 mb-4 hidden"></div>

<form id="contact-form" class="space-y-4 max-w-xl mx-auto px-4">
  <input type="text" name="name" placeholder="Your Name" class="w-full p-3 border border-gray-300 rounded shadow-sm" required>
  <input type="email" name="email" placeholder="Your Email" class="w-full p-3 border border-gray-300 rounded shadow-sm" required>
  <textarea name="message" placeholder="Your Message" class="w-full p-3 border border-gray-300 rounded shadow-sm h-32" required></textarea>
  
  <button type="submit" class="mt-2 bg-black text-white px-6 py-3 rounded hover:bg-gray-800 transition-colors shadow-md">
    Send Message
  </button>
</form>

<script>
  const form = document.getElementById('contact-form');
  const messageBox = document.getElementById('form-message');

  form.addEventListener('submit', async (e) => {
    e.preventDefault(); // prevent default form submission

    // Basic validation
    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const message = form.message.value.trim();

    if (!name || !email || !message) {
      showMessage("Please fill in all fields.", "bg-red-100 text-red-700 border border-red-300");
      return;
    }

    // Submit to Formspree
    try {
      const res = await fetch("https://formspree.io/f/xldndava", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, email, message })
      });

      if (res.ok) {
        showMessage("Thank you! Your message has been sent.", "bg-green-100 text-green-700 border border-green-300");
        form.reset();
      } else {
        showMessage("There was a problem sending your message. Please try again later.", "bg-red-100 text-red-700 border border-red-300");
      }
    } catch (err) {
      showMessage("There was a network error. Please check your connection and try again.", "bg-red-100 text-red-700 border border-red-300");
    }
  });

  function showMessage(text, classes) {
    messageBox.textContent = text;
    messageBox.className = `p-4 rounded ${classes} max-w-xl mx-auto px-4 mb-4`;
    messageBox.classList.remove("hidden");

    // Auto-hide after 5 seconds (optional)
    setTimeout(() => {
      messageBox.classList.add("hidden");
    }, 5000);
  }
</script>
